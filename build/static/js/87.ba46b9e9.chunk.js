"use strict";(self.webpackChunkinteriit_scores_app_ibp=self.webpackChunkinteriit_scores_app_ibp||[]).push([[87],{5087:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var s=t(4165),a=t(5861),r=t(9439),u=t(2791),o=t(8356),i=t(8025),c=t(6839),l=t(7689),p=t(7174),d=t(184),f=function(){var e=(0,u.useState)(""),n=(0,r.Z)(e,2),t=n[0],f=n[1],m=(0,u.useState)(""),h=(0,r.Z)(m,2),x=h[0],v=h[1],g=(0,u.useState)(""),j=(0,r.Z)(g,2),k=j[0],b=j[1],w=(0,i.zq)(),C=(0,l.s0)(),y=(0,u.useContext)(p.u).setToastMessage,N=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==t&&""!==x){e.next=5;break}return b("Enter Username and Password!"),setTimeout((function(){return b("")}),3e3),e.abrupt("return");case 5:return e.prev=5,e.next=8,o.Z.LoginWithUsernameAndPassword({username:t,password:x});case 8:a=e.sent,w({tokenType:a.data.type,token:a.data.accessToken,expiresIn:c.cA,refreshToken:a.data.refreshToken,refreshTokenExpireIn:c.jN,authState:{username:t,name:a.data.user.name,role:a.data.user.role}})&&(y("Login Successfull!"),C("/admin")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5);try{b(JSON.parse(e.t0.request.response).message)}catch(s){b("Could not connect with the Server"),console.log(e.t0)}case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{className:"loginContainer",children:(0,d.jsxs)("div",{className:"loginDialog",children:[(0,d.jsx)("h1",{className:"fjalla",children:"Login"}),(0,d.jsxs)("form",{onSubmit:N,children:[(0,d.jsxs)("label",{className:"field",children:["Username",(0,d.jsx)("input",{name:"username",className:"styledInput",autoComplete:"off",type:"text",value:t,onChange:function(e){return f(e.target.value)}})]}),(0,d.jsxs)("label",{className:"field",children:["Password"," ",(0,d.jsx)("input",{name:"password",autoComplete:"off",className:"styledInput",type:"password",value:x,onChange:function(e){return v(e.target.value)}})]}),(0,d.jsx)("input",{type:"submit",value:"Continue"}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{onClick:function(){return C("..")},children:"Go to Homepage"})]}),(0,d.jsx)("div",{children:k})]})})}}}]);
//# sourceMappingURL=87.ba46b9e9.chunk.js.map